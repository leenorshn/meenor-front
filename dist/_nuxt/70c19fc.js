(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{452:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n(8),l=n(7),c=n.n(l)()(r||(r=Object(o.a)(["\n mutation uploadImage($file:Upload!){\n  uploadFile(file:$file){\n    id\n    url\n  }\n}\n"])))},474:function(e,t,n){"use strict";n.r(t);n(34),n(28),n(21),n(43),n(29),n(44);var r=n(4),o=n(16),l=(n(25),n(452)),c=n(45);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{user:{password:"123456"},url:null}},methods:m(m({},Object(c.b)({newUser:"users/createUser"})),{},{createUser:function(){this.newUser(m(m({},this.user),{},{avatar:this.url}))},annuler:function(){this.locataire={},this.url=null},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.target.files){n.next=3;break}return n.abrupt("return");case 3:return console.log(r),n.next=6,t.$apollo.mutate({mutation:l.a,variables:{file:r[0]},awaitRefetchQueries:!0});case 6:o=n.sent,data=o.data,console.log(data),t.url=data.uploadFile.url;case 10:case"end":return n.stop()}}),n)})))()}})},v=n(24),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",{staticClass:"w-2/3 mx-auto"},[n("div",{staticClass:"mt-5 md:mt-0 md:col-span-2"},[n("h1",{staticClass:" font-semibold mb-1"},[e._v("Nouveau utilisateur")]),e._v(" "),n("form",{attrs:{action:"#",method:"POST"}},[n("div",{staticClass:"shadow sm:rounded-md sm:overflow-hidden"},[n("div",{staticClass:"px-4 py-5 bg-white space-y-4 sm:p-6"},[n("div",{staticClass:" pb-2 flex items-center space-x-reverse space-x-4"},[n("label",{staticClass:"text-gray-500 order-last",attrs:{for:""}},[e._v("Choisir l'image \n                ")]),e._v(" "),e.url?n("div",[n("img",{staticClass:"w-64 h-64 object-cover",attrs:{src:e.url,alt:""}})]):n("div",{staticClass:"\n        order-first\n        flex\n        items-center\n        h-32\n        w-32\n        border-2 border-dashed border-gray-400\n        rounded-full\n      "},[n("div",{staticClass:"\n          w-full\n          h-full\n          flex\n          justify-center\n          items-center\n          inset-0\n          rounded-full\n          cursor-pointer\n          bg-gray-50\n        ",on:{click:e.onPickFile}},[n("div",{staticClass:"flex items-start text-gray-500"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})]),e._v(" "),n("svg",{staticClass:"h-12 w-12",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}})])])]),e._v(" "),n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}})])]),e._v(" "),n("div",{staticClass:"col-span-6"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"street-address"}},[e._v("Identite")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"\n                    mt-1\n                    focus:ring-indigo-500\n                    focus:border-indigo-500\n                    block\n                    w-full\n                    shadow-sm\n                    sm:text-sm\n                    border-gray-300\n                    rounded-md\n                  ",attrs:{type:"text",name:"street-address",id:"street-address",autocomplete:"street-address",placeholder:"Nom complet"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"col-span-6"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"street-address"}},[e._v("Phone number")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"\n                    mt-1\n                    focus:ring-indigo-500\n                    focus:border-indigo-500\n                    block\n                    w-full\n                    shadow-sm\n                    sm:text-sm\n                    border-gray-300\n                    rounded-md\n                  ",attrs:{type:"text",name:"phone",id:"phone",autocomplete:"phone",placeholder:"Phone number"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"col-span-6"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"street-address"}},[e._v("Role")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],attrs:{id:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.user,"role",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"admin"}},[e._v("Admin")]),e._v(" "),n("option",{attrs:{value:"agent"}},[e._v("Agent")]),e._v(" "),n("option",{attrs:{value:"autre"}},[e._v("Autre")])])])]),e._v(" "),n("div",{staticClass:"px-4 py-4 bg-gray-50 text-right space-x-4 "},[n("button",{staticClass:"\n                  inline-flex\n                  justify-center\n                  py-2\n                  px-12\n                  border border-transparent\n                  shadow-sm\n                  text-sm\n                  font-medium\n                  rounded-md\n                  text-white\n                  bg-orange-500\n                  hover:bg-orange-700\n                  focus:outline-none\n                  focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n                ",on:{click:function(t){return t.preventDefault(),e.annuler()}}},[e._v("\n                Annuler\n              ")]),e._v(" "),n("button",{staticClass:"\n                  inline-flex\n                  justify-center\n                  py-2\n                  px-12\n                  border border-transparent\n                  shadow-sm\n                  text-sm\n                  font-medium\n                  rounded-md\n                  text-white\n                  bg-indigo-500\n                  hover:bg-indigo-700\n                  focus:outline-none\n                  focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n                ",on:{click:function(t){return t.preventDefault(),e.createUser()}}},[e._v("\n                Enregister\n              ")])])])])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);