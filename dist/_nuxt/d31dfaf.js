(window.webpackJsonp=window.webpackJsonp||[]).push([[14,9],{445:function(t,e,n){"use strict";n.r(e);var r={props:{iconName:{type:String,required:!0}}},o=n(24),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["pencil"===t.iconName?n("svg",{staticClass:"h-5 w-5 ",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}})]):t._e(),t._v(" "),"empty"===t.iconName?n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 21h7a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v11m0 5l4.879-4.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242z"}})]):t._e(),t._v(" "),"delete"===t.iconName?n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]):t._e(),t._v(" "),"vue"===t.iconName?n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}}),t._v(" "),n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}})]):t._e(),t._v(" "),"chat"===t.iconName?n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}})]):t._e(),t._v(" "),"u-new"===t.iconName?n("svg",{staticClass:"h-5 w-5 mr-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"}})]):t._e(),t._v(" "),"notify"===t.iconName?n("svg",{staticClass:"h-6 w-6 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}})]):t._e(),t._v(" "),"users"===t.iconName?n("svg",{staticClass:"h-6 w-6 text-gray-200 absolute left-2 top-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}})]):t._e()])}),[],!1,null,null,null);e.default=component.exports},479:function(t,e,n){"use strict";n.r(e);var r,o,l=n(4),c=n(8),v=(n(25),n(227),n(7)),m=n.n(v),d={apollo:{batiments:{query:m()(r||(r=Object(c.a)(["\n        query {\n          batiments {\n            id\n            name\n            niveaux {\n              id\n              rooms {\n                id\n                numero\n                price\n                category\n              }\n            }\n          }\n        }\n      "])))}},data:function(){return{batiment:null,batime:""}},methods:{onChange:function(t){t.target.value,this.batiment=this.batiments.find((function(e){return e.id===t.target.value}))},associetRoomToUser:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$apollo.mutate({mutation:m()(o||(o=Object(c.a)(["\n          mutation affecterRoomToUser($id: ID!, $room: String!) {\n            affectRoom(id: $id, room: $room) {\n              id\n              name\n            }\n          }\n        "]))),variables:{room:t,id:e.$route.params.id},awaitRefetchQueries:!0});case 2:r=n.sent,r.data&&e.$nuxt.context.redirect("/clients");case 5:case"end":return n.stop()}}),n)})))()}}},h=n(24),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-4/6 mx-auto mt-2"},[n("div",{staticClass:"\n      h-28\n      bg-blue-800\n      rounded-t-lg\n      px-24\n      flex flex-col\n      items-center\n      justify-center\n    "},[n("h3",{staticClass:"text-3xl text-blue-50"},[t._v("Choisir la maison")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.batime,expression:"batime"}],staticClass:"text-blue-800",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.batime=e.target.multiple?n:n[0]},function(e){return t.onChange(e)}]}},[n("option",{attrs:{value:""}},[t._v("Choisir maison")]),t._v(" "),t._l(t.batiments,(function(e,r){return n("option",{key:e.id,domProps:{value:e.id}},[n("div",{staticClass:"h-24"},[t._v(t._s(r+1+"  ")+t._s(e.name))])])}))],2)]),t._v(" "),null!=t.batiment?n("div",t._l(t.batiment.niveaux,(function(e){return n("div",{key:e.id},[n("div",[n("h3",{staticClass:"py-2 font-semibold"},[t._v("Chambres:")]),t._v(" "),0==e.rooms.length?n("div",{staticClass:"h-72 flex flex-col items-center justify-center"},[n("Icon",{attrs:{iconName:"empty"}}),t._v(" "),n("h2",[t._v("Pas de chambre dans cette maison")])],1):t._e(),t._v(" "),t._l(e.rooms,(function(e){return n("div",{key:e.id},[n("div",{staticClass:"\n              bg-white\n              flex\n              justify-between\n              items-center\n              border-t-2\n              h-12\n              px-8\n              rounded-md\n            "},[n("div",{staticClass:"flex items-center"},[n("h3",{staticClass:"\n                  p-2\n                  w-7\n                  h-7\n                  flex\n                  items-center\n                  justify-center\n                  mr-5\n                  bg-orange-300\n                  rounded-full\n                "},[n("span",[t._v(t._s(e.numero+" "))])]),t._v(" "),n("h3",[t._v(t._s(e.category))])]),t._v(" "),n("h3",{staticClass:"text-xl font-semibold text-blue-600"},[t._v("\n              "+t._s(e.price+"$")+"\n            ")]),t._v(" "),n("button",{staticClass:"\n                bg-gray-100\n                rounded-md\n                px-4\n                py-1\n                text-blue-700 text-sm\n                font-semibold\n              ",on:{click:function(n){return n.preventDefault(),t.associetRoomToUser(e.id)}}},[t._v("\n              Selectionner\n            ")])])])}))],2)])})),0):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Icon:n(445).default})}}]);